
---

# Raft Algorithm Implementation

This repository contains an implementation of the Raft consensus algorithm in distributed systems. Raft is a consensus algorithm designed to be easy to understand, making it suitable for educational purposes and practical deployment.

## Table of Contents

- [Introduction](#introduction)
- [Features](#features)
- [Usage](#usage)
- [Dependencies](#dependencies)
- [Configuration](#configuration)
- [gRPC files expalnation](#contributing)
- [Features](#license)

## Introduction

The Raft algorithm provides a way for a collection of nodes (servers) to reach consensus on a shared state. It ensures that a single leader is elected among the nodes, which is responsible for managing the state changes and replicating them to other nodes in the cluster.

This implementation follows the specifications outlined in the original Raft paper: [In Search of an Understandable Consensus Algorithm](https://raft.github.io/raft.pdf).

## Features

- Leader election: Nodes in the cluster elect a single leader.
- Log replication: Leader replicates its log entries to other nodes for consistency.
- Safety: Ensures safety properties such as leader append-only and election safety.
- Fault tolerance: Handles node failures and network partitions gracefully.

## Usage

To use this implementation, follow these steps:

1. Clone the repository to your local machine.
2. Install the required dependencies (see [Dependencies](#dependencies)).
3. Configure the server information (see [Configuration](#configuration)).
4. Run the `server.py` script to start a Raft node.

## Dependencies

This implementation relies on the following dependencies:

- Python 3.x
- gRPC (Google Remote Procedure Call)

You can install gRPC using the following command:

```
pip install grpcio
```

## Configuration

The configuration of the Raft servers can be done through the `server_info.py` file. This file contains information about server ports and IDs.


### gRPC Files Explanation:

1. `raft_pb2.py` and `raft_pb2_grpc.py`:
   - These files are generated by the Protocol Buffers (protobuf) compiler from the `raft.proto` file.
   - `raft_pb2.py` contains Python classes representing the data structures defined in the `raft.proto` file.
   - `raft_pb2_grpc.py` contains gRPC server and client classes for interacting with the services defined in the `raft.proto` file.

2. `server_info.py`:
   - This file likely contains configuration information such as server ports and IDs.
   - It's used by the Raft implementation to know about the available servers and their identifiers.

### Features Elaboration:

1. **Leader Election**:
   - The Raft algorithm ensures that a single leader is elected among the nodes in the cluster.
   - This leader is responsible for managing the state changes and coordinating log replication among the nodes.

2. **Log Replication**:
   - Once a leader is elected, it replicates its log entries to other nodes in the cluster.
   - Log replication ensures that all nodes in the cluster have the same state and can recover from failures or network partitions.

3. **Safety**:
   - The Raft algorithm provides safety guarantees such as leader append-only and election safety.
   - Leader append-only ensures that new log entries are only appended by the leader, preventing inconsistencies in the log.
   - Election safety ensures that at most one leader is elected in a given term, maintaining the consistency of the cluster.

4. **Fault Tolerance**:
   - Raft handles node failures and network partitions gracefully.
   - If a leader node fails, a new leader will be elected among the remaining nodes.
   - If a follower node fails or becomes unreachable, the leader will continue to replicate logs to other followers once the node recovers.

5. **gRPC Integration**:
   - gRPC (Google Remote Procedure Call) is used for communication between Raft nodes.
   - gRPC provides efficient and scalable communication over HTTP/2, making it suitable for building distributed systems.
   - It simplifies the implementation of remote procedure calls by automatically generating client and server code from Protocol Buffers definitions.

6. **Asynchronous Communication**:
   - The use of gRPC allows for asynchronous communication between Raft nodes.
   - Asynchronous communication enables nodes to continue their operations without waiting for responses from other nodes, improving system performance and responsiveness.

---

### Client Information

The client-side code allows users to interact with the Raft cluster by setting or getting variables. Here are some key points about the client-side implementation:

- **Connection Establishment**: The client establishes a connection to the Raft cluster using gRPC, connecting to the leader node for sending requests.

- **Options**: The client presents users with options to perform operations such as setting or getting variables from the distributed system.

- **Error Handling**: If the leader node changes or fails, the client updates the leader information and retries the operation with the new leader.

- **Input Handling**: Handles user input for setting or getting variable values, ensuring proper formatting and error handling.

- **Asynchronous Communication**: The client communicates asynchronously with the Raft cluster, allowing for concurrent operations and responsiveness.

- **Graceful Exit**: Provides an option for users to exit the client application gracefully, terminating the client-side process.

This client-side code is crucial for allowing users to interact with the Raft cluster, perform operations, and observe the state of the distributed system.

---
### Floder Structure
```
assignment/

    ├─ node_0/

        │  ├─ logfile.txt

        │  ├─ metadata.txt

        │  ├─ dump.txt

    ├─ node_1/

        │  ├─ logfile.txt

        │  ├─ metadata.txt

        │  ├─ dump.txt

```

---

These features collectively contribute to the reliability, scalability, and efficiency of the Raft consensus algorithm implementation in distributed systems.